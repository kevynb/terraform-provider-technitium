---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "technitium_record Resource - terraform-provider-technitium"
subcategory: ""
description: |-
  Manages a DNS record in Technitium DNS Server.
---

# technitium_record (Resource)

Manages a DNS record in Technitium DNS Server.

## Example Usage

### Create a CNAME Record

```terraform
resource "technitium_record" "my_cname" {
  zone   = "example.com"
  domain = "alias.example.com"
  type   = "CNAME"
  cname  = "target.example.com"
  ttl    = 3600
}
```

```terraform
resource "technitium_record" "app_record" {
  zone       = "example.com"
  domain     = "app.example.com"
  type       = "APP"
  ttl        = 3600
  app_name   = "Split Horizon"
  class_path = "SplitHorizon.SimpleAddress"
  record_data = jsonencode({
    "tailscale": ["100.115.205.32", "fd7a:115c:a1e0:ab12:4843:cd96:6273:cd20"],
    "private": ["192.168.88.50"]
  })
}
```

### Create an APP Record

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **`type`** (String): DNS record type. Supported values:
    - `A`, `AAAA`: Address records for IPv4 and IPv6.
    - `CNAME`: Canonical name records.
    - `MX`: Mail exchange records.
    - `NS`: Name server records.
    - `TXT`: Text records.
    - `SRV`: Service locator records.
    - `PTR`: Pointer records for reverse DNS.
    - `NAPTR`: Naming authority pointer records.
    - `CAA`: Certification Authority Authorization records.
    - `ANAME`: Alias records.
    - `URI`: URI records.
    - `TLSA`: TLS authentication records.
    - `SOA`, `DNAME`, `DS`, `SSHFP`, `SVCB`, `HTTPS`, `FWD`, `APP`: Advanced and custom records.

- **`domain`** (String): Fully qualified domain name (FQDN) for the record (e.g., `sub.example.com`).

- **`ttl`** (Number): Record time-to-live in seconds. Must be between 600 and 604800 (1 week). Defaults to `3600`.

### Optional, based on record type.

- **`preference`** (Number): Priority for `MX` records. Lower values indicate higher priority.
- **`priority`** (Number): Priority for `SRV` records. Lower values indicate higher priority.
- **`weight`** (Number): Weight for `SRV` records to influence load balancing.
- **`port`** (Number): Port number for `SRV` records.
- **`target`** (String): Target for `CNAME`, `SRV`, or similar records.
- **`text`** (String): Text content for `TXT` records.
- **`app_name`** (String): Application name for `APP` records.
- **`class_path`** (String): Class path for `APP` records.
- **`record_data`** (String): JSON-encoded data for `APP` records.
- **`ptr`** (Boolean): Create a PTR record for `A` or `AAAA` records (default: `false`).
- **`create_ptr_zone`** (Boolean): Automatically create a PTR zone for `A` or `AAAA` records (default: `false`).
- **`update_svcb_hints`** (Boolean): Update SVCB hints for `A` or `AAAA` records (default: `false`).
- **`exchange`** (String): Exchange server for `MX` records.
- **`cname`** (String): Canonical name for `CNAME` records.
- **`ip_address`** (String): IPv4 or IPv6 address for `A` or `AAAA` records.

Additional optional fields may be supported based on record type. Their name should mirror what you see in the technitium UI for each field.

### Examples for Specific Record Types

1. **MX Record**:
   ```terraform
   resource "technitium_record" "mx_record" {
     domain    = "mail.example.com"
     type      = "MX"
     ttl       = 3600
     preference  = 10
     exchange  = "mailserver.example.com"
   }
   ```

2. **SRV Record**:
   ```terraform
   resource "technitium_record" "srv_record" {
     domain    = "_sip._tcp.example.com"
     type      = "SRV"
     ttl       = 3600
     priority  = 10
     weight    = 5
     port      = 5060
     target    = "sipserver.example.com"
   }
   ```

3. **TXT Record**:
   ```terraform
   resource "technitium_record" "txt_record" {
     domain = "verification.example.com"
     type   = "TXT"
     ttl    = 3600
     text   = "sample-verification-code"
   }
   ```

## Import

Import existing DNS records using the format `zone:name:TYPE:value`.

**Note:** APP records cannot be imported due to their complex structure requiring multiple fields (`app_name`, `class_path`, and `record_data`). APP records must be created directly in your Terraform configuration.

### Import ID Format

The import ID format is `zone:name:TYPE:value` where:
- `zone` is the DNS zone name (e.g., `example.com`)
- `name` is the record name within the zone (use `@` for the zone apex)
- `TYPE` is the DNS record type (e.g., `CNAME`, `A`, `MX`)
- `value` is the record value, which varies by record type (see examples below)

**Important:** All separators in the import ID use colons (`:`). For multi-part record values (MX, SRV, CAA), the parts are also separated by colons.

### Examples

#### Simple Records

```bash
# Import a CNAME record
terraform import technitium_record.example example.com:www:CNAME:target.example.com

# Import an A record
terraform import technitium_record.example example.com:@:A:192.168.1.100

# Import an AAAA record
terraform import technitium_record.example example.com:www:AAAA:2001:db8::1

# Import a TXT record
terraform import technitium_record.example example.com:@:TXT:v=spf1 include:_spf.example.com ~all

# Import a NS record
terraform import technitium_record.example example.com:@:NS:ns1.example.com

# Import a PTR record
terraform import technitium_record.example 1.168.192.in-addr.arpa:100:PTR:host.example.com
```

#### Multi-Part Records

For records with multiple values, separate each part with a colon (`:`):

```bash
# Import an MX record (format: preference:exchange)
terraform import technitium_record.example example.com:@:MX:10:mail.example.com

# Import an SRV record (format: priority:weight:port:target)
terraform import technitium_record.example example.com:_sip._tcp:SRV:10:5:5060:sipserver.example.com

# Import a CAA record (format: flags:tag:value)
terraform import technitium_record.example example.com:@:CAA:0:issue:letsencrypt.org
```

#### Records with Colons in Values

The import format correctly handles values that contain colons (such as URIs or IPv6 addresses):

```bash
# Import a URI record with colons in the URI
terraform import technitium_record.example example.com:_http._tcp:URI:10:1:https://example.com:8080/path

# Import a TXT record with colons in the value
terraform import technitium_record.example example.com:@:TXT:v=DKIM1; k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA...
```

### Error Handling

If the import ID format is incorrect, you will receive a clear error message:

- **Invalid format**: `Import ID must be in format 'zone:name:TYPE:value'`
- **Invalid MX format**: `MX record value must be in format 'preference:exchange'`
- **Invalid SRV format**: `SRV record value must be in format 'priority:weight:port:target'`
- **Invalid CAA format**: `CAA record value must be in format 'flags:tag:value'`
- **Invalid numeric values**: Error messages will indicate which field (preference, priority, weight, port) has an invalid value
